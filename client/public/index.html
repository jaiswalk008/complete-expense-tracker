<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <script src="https://checkout.razorpay.com/v1/checkout.js" defer></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <title>Expense Tracker</title>
  </head>
  <body>

    <div id="root"></div>
    <!-- <script>
      const razorpayBtn = document.getElementById('activate-premium');
      if(razorpayBtn) razorpayBtn.addEventListener('click',rzpTransaction)
      async function rzpTransaction(e){
        // let Razorpay;
        
        const token = localStorage.getItem('token');
        let result =false;
        const response = await axios.get('http://localhost:4000/purchase/premiummembership',{headers:{'Authorization':token}});
        //console.log(response);
        //we dont pass the amount from frontend because its easily editable
        const options ={
            "key":response.data.key_id,
            "order_id":response.data.order.id,
            //this handler function will handle the success payment
            "handler":async function (response){
                await axios.post('http://localhost:4000/purchase/updatetransactionstatus',{
                    order_id:options.order_id,
                    payment_id:response.razorpay_payment_id,
                    success:true
                },{headers:{'Authorization':token}});
                localStorage.setItem('premium',true);
               
            }
        }
        const rzp = new Razorpay(options);
        rzp.open();
        e.preventDefault();
        //if payment fails below code will be executed
        rzp.on('payment.failed' ,async  function(response){
            const res = await axios.post('http://localhost:4000/purchase/updatetransactionstatus',{
                    order_id:options.order_id,
                    payment_id:response.razorpay_payment_id,
                    success:false
                },{headers:{'Authorization':token}});
            alert('something went wrong')
        })
        
    }
    </script> -->
  </body>
</html>
